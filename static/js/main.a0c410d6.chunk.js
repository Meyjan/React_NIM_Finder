(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,function(e,t,a){e.exports=a(25)},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(9),o=a.n(l),s=(a(16),a(2)),c=a(3),i=a(5),u=a(4),m=a(6),d=(a(17),a(18),function(){return r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"title-container__title"},r.a.createElement("h1",null,"Stalk your friends here!"),r.a.createElement("p",null,"React NIM Finder"),r.a.createElement("h3",null,"-----------------------------------------------"),r.a.createElement("h4",null,"Though you have to login first"),r.a.createElement("h5",null,"(or register if you haven't)"))))}),h=(a(19),function(){return r.a.createElement("div",{className:"help-wrapper"},r.a.createElement("div",{className:"help-margin"},r.a.createElement("div",{className:"help-title"},r.a.createElement("b",null,"HELP")),r.a.createElement("div",{className:"help-text"},r.a.createElement("p",null,r.a.createElement("b",null,"REGISTER")),r.a.createElement("p",null,"Enter your desired username and password at the provided input box. After that, click the register button It may have been taken by others though, but usually it haven't been taken by others, so usually you won't have to rethink for your username and password. After being registered, you can access your log into your account so that you can start ",r.a.createElement("i",null,"stalking"),"."),r.a.createElement("p",null,r.a.createElement("b",null,"LOGIN")),r.a.createElement("p",null,"Log into your account that you have been registered. You can input your username and your password at the provided space and hit the login button. After logging in, you now gain access to the API and now can start ",r.a.createElement("i",null,"stalking"),". Remember to register first if you don't have an account. Otherwise, you won't be able to login (",r.a.createElement("i",null,"obviously"),")."),r.a.createElement("p",null,r.a.createElement("b",null,"SEARCH")),r.a.createElement("p",null,"Your stalking machine! Be it your friend's NIM or name, this machine can look up the details for you! Just enter your query at the provided space and click on the search button to start searching. This machine will then return the result it gets from the API, which is the list of name and the details about that person which has the same criteria as your query (or nothing if it doesn't match with anything). Do remember, this feature is only accessible once you've logged in."),r.a.createElement("p",null,r.a.createElement("b",null,"LOGOUT")),r.a.createElement("p",null,"Log out from your account. This feature is only accessible once you've logged in. Though I should say you shouldn't use this feature because it's preventing you from stalking your friends. I suggest you should only use this feature once doctors and psychiatrists come into your house because you've done too much stalking."))))}),p=a(1),g=a.n(p),f=a(7),E=function(e){return r.a.createElement("form",{onSubmit:e.onRegister},r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text",id:"inputGroup-sizing-default"},"Username")),r.a.createElement("input",{type:"text",name:"username",className:"form-control",placeholder:"Username...","aria-label":"Default","aria-describedby":"inputGroup-sizing-default"})),r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text",id:"inputGroup-sizing-default"},"Password")),r.a.createElement("input",{type:"password",name:"password",className:"form-control",placeholder:"Password...","aria-label":"Default","aria-describedby":"inputGroup-sizing-default"})),r.a.createElement("button",{className:"btn btn-outline-secondary btn-lg"},"Register!"))},b=(a(21),"https://api.stya.net/nim/register"),v=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={registered:0,status:void 0},a.handleRegister=function(){var e=Object(f.a)(g.a.mark(function e(t){var n,r,l,o,s,c,i,u,m;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(s in t.preventDefault(),n=t.target.elements.username.value,r=t.target.elements.password.value,o=[],l={username:n,password:r})c=encodeURIComponent(s),i=encodeURIComponent(l[s]),o.push(c+"="+i);return o=o.join("&"),e.next=9,fetch(b,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},body:o});case 9:return u=e.sent,e.next=12,u.json();case 12:m=e.sent,console.log("Handle register received"),console.log(m.code),console.log(m.status),0===m.code?a.setState({registered:1}):(a.setState({registered:-1}),a.setState({status:m.status}));case 17:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"register-title-wrapper"},r.a.createElement("div",{className:"register-title-text-wrapper"},r.a.createElement("h1",null,r.a.createElement("font",{color:"white"},"Register your new account Here!")),r.a.createElement("h3",null,r.a.createElement("font",{color:"white"},"Enter your desired username and password!")))),r.a.createElement("div",{className:"register-form-wrapper"},r.a.createElement("div",{className:"register-form-text-wrapper"},r.a.createElement(E,{onRegister:this.handleRegister}),(1===this.state.registered||-1===this.state.registered)&&r.a.createElement("p",null,"---------------------"),1===this.state.registered&&r.a.createElement("p",null,"Registration Success!"),-1===this.state.registered&&r.a.createElement("p",null,"Registration Failed..."),-1===this.state.registered&&r.a.createElement("p",null,this.state.status))))}}]),t}(n.Component),y=function(e){return r.a.createElement("form",{onSubmit:e.onLogin},r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text",id:"inputGroup-sizing-default"},"Username")),r.a.createElement("input",{type:"text",name:"username",className:"form-control",placeholder:"Username...","aria-label":"Default","aria-describedby":"inputGroup-sizing-default"})),r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text",id:"inputGroup-sizing-default"},"Password")),r.a.createElement("input",{type:"password",name:"password",className:"form-control",placeholder:"Password...","aria-label":"Default","aria-describedby":"inputGroup-sizing-default"})),r.a.createElement("button",{className:"btn btn-outline-secondary btn-lg"},"Login!"))},w=(a(22),"https://api.stya.net/nim/login"),N=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={loginFail:!1,status:void 0},a.handleLogin=function(){var e=Object(f.a)(g.a.mark(function e(t){var n,r,l,o,s,c,i,u,m;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(s in t.preventDefault(),n=t.target.elements.username.value,r=t.target.elements.password.value,o=[],l={username:n,password:r})c=encodeURIComponent(s),i=encodeURIComponent(l[s]),o.push(c+"="+i);return o=o.join("&"),e.next=9,fetch(w,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},body:o});case 9:return u=e.sent,e.next=12,u.json();case 12:0===(m=e.sent).code?a.props.onLoggedIn(m.token):(a.setState({loginFail:!0}),a.setState({status:m.status}));case 14:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"login-title-wrapper"},r.a.createElement("div",{className:"login-title-text-wrapper"},r.a.createElement("h1",null,r.a.createElement("font",{color:"white"},"Log into your account Here!")),r.a.createElement("h3",null,r.a.createElement("font",{color:"white"},"Enter your username and password!")))),r.a.createElement("div",{className:"login-form-wrapper"},r.a.createElement("div",{className:"login-form-text-wrapper"},r.a.createElement(y,{onLogin:this.handleLogin}),this.state.loginFail&&r.a.createElement("p",null,"---------------"),this.state.loginFail&&r.a.createElement("p",null,"Login Failed..."),this.state.loginFail&&r.a.createElement("p",null,this.state.status))))}}]),t}(n.Component),S=function(e){return r.a.createElement("form",{onSubmit:e.onSearch},r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text",id:"inputGroup-sizing-default"},"Query")),r.a.createElement("input",{type:"text",name:"finder",className:"form-control",placeholder:"Query...","aria-label":"Default","aria-describedby":"inputGroup-sizing-default"})),r.a.createElement("button",{className:"btn btn-secondary btn-sm"},"Stalk!"))},k=(a(23),"https://api.stya.net/nim/byid?query="),x="https://api.stya.net/nim/byname?name=",I=new RegExp(/^\d+$/),T=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={found:0,result:void 0,totalPage:0},a.handleSearch=function(){var e=Object(f.a)(g.a.mark(function e(t){var n,r,l,o,s,c,i,u,m;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=t.target.elements.finder.value,r=I.test(n)?k:x,r+=n,r+="&count=10",e.next=7,fetch(r,{method:"GET",headers:{"Auth-Token":a.props.authToken}});case 7:return l=e.sent,e.next=10,l.json();case 10:if(!((o=e.sent).code<=0)){e.next=15;break}a.setState({found:-1}),e.next=35;break;case 15:s=[],c=o.code,i=1;case 18:if(!(c>0)){e.next=31;break}for(u in o.payload)s.push([o.payload[u].name,o.payload[u].nim_tpb,o.payload[u].nim_jur,o.payload[u].prodi]);return m=r+"&page="+i,e.next=23,fetch(m,{method:"GET",headers:{"Auth-Token":a.props.authToken}});case 23:return l=e.sent,e.next=26,l.json();case 26:o=e.sent,c=o.code,i+=1,e.next=18;break;case 31:a.setState({result:s}),console.log(a.state.result),a.setState({totalPage:0===c?i-1:i}),a.setState({found:1});case 35:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"search-wrapper"},r.a.createElement("div",{className:"column"},r.a.createElement("h5",null,r.a.createElement("br",null)),r.a.createElement("div",{className:"search-text-wrapper"},r.a.createElement("h2",null,"Enter NIM or Name"),r.a.createElement(S,{onSearch:this.handleSearch}),-1===this.state.found&&r.a.createElement("h4",null,"Nothing Found..."),1===this.state.found&&r.a.createElement("h4",null,"Results...")),1===this.state.found&&r.a.createElement("div",{className:"overflow-auto"},r.a.createElement("table",{className:"table table-striped table-bordered table-sm"},r.a.createElement("thead",{className:"thead-dark"},r.a.createElement("tr",null,r.a.createElement("th",{className:"th-sm",scope:"col"},"Nama"),r.a.createElement("th",{className:"th-sm",scope:"col"},"NIM TPB"),r.a.createElement("th",{className:"th-sm",scope:"col"},"NIM Jurusan"),r.a.createElement("th",{className:"th-sm",scope:"col"},"Prodi"))),r.a.createElement("tbody",null,this.state.result.map(function(e){return r.a.createElement("tr",{key:e[2]},r.a.createElement("td",null,e[0]),r.a.createElement("td",null,e[1]),r.a.createElement("td",null,e[2]),r.a.createElement("td",null,e[3]))}))))))}}]),t}(n.Component),O=function(e){return r.a.createElement("nav",{className:"navbar fixed-top navbar-expand-lg navbar-dark bg-dark"},r.a.createElement("button",{className:"btn btn-default",onClick:function(){return e.gotoTitle()}},r.a.createElement("h4",null,r.a.createElement("font",{color:"white"},"React NIM Finder"))),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarTogglerDemo02","aria-controls":"navbarTogglerDemo02","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarTogglerDemo02"},r.a.createElement("ul",{className:"navbar-nav mr-auto mt-2 mt-lg-0"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("button",{className:"btn btn-default",onClick:function(){return e.gotoHelp()}},r.a.createElement("font",{color:"white"},"Help"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement("button",{className:e.loggedIn?"btn btn-default":"btn btn-default disabled",disabled:!e.loggedIn,onClick:function(){return e.gotoSearch()},tabIndex:"-1","aria-disabled":"true"},r.a.createElement("font",{color:"white"},"Search!")))),r.a.createElement("ul",{className:"nav navbar-nav navbar-right mt-2 mt-lg-0"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("button",{className:"btn btn-default",onClick:function(){return e.gotoRegister()}},r.a.createElement("font",{color:"white"},"Register"))),!e.loggedIn&&r.a.createElement("li",{className:"nav-item"},r.a.createElement("button",{className:"btn btn-default",onClick:function(){return e.gotoLogin()}},r.a.createElement("font",{color:"white"},"Login"))),e.loggedIn&&r.a.createElement("li",{className:"nav-item"},r.a.createElement("button",{className:"btn btn-default",onClick:function(){return e.gotoLogout()}},r.a.createElement("font",{color:"white"},"Logout"))))))},j=function(){return r.a.createElement("nav",{className:"navbar fixed-bottom navbar-expand-sm navbar-dark bg-dark"},r.a.createElement("font",{color:"white"},"Made by ",r.a.createElement("i",null,"(Jan Meyer Saragih / 13517131)"),". All rights reserved?"))},L=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={showScreen:"title",loggedIn:!1,authToken:""},a.handlegotoTitle=function(){a.setState({showScreen:"title"})},a.handlegotoLogin=function(){a.setState({showScreen:"login"})},a.handlegotoRegister=function(){a.setState({showScreen:"register"})},a.handlegotoSearch=function(){a.setState({showScreen:"search"})},a.handlegotoHelp=function(){a.setState({showScreen:"help"})},a.handleLoggedIn=function(e){a.setState({showScreen:"search"}),a.setState({loggedIn:!0}),a.setState({authToken:e})},a.handleLoggedOut=function(){a.setState({showScreen:"title"}),a.setState({loggedIn:!1}),a.setState({authToken:void 0})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(O,{gotoTitle:this.handlegotoTitle,gotoHelp:this.handlegotoHelp,gotoSearch:this.handlegotoSearch,gotoLogin:this.handlegotoLogin,gotoLogout:this.handleLoggedOut,gotoRegister:this.handlegotoRegister,loggedIn:this.state.loggedIn}),r.a.createElement("div",{className:"bg"},"title"===this.state.showScreen&&r.a.createElement(d,null),"register"===this.state.showScreen&&r.a.createElement(v,null),"login"===this.state.showScreen&&r.a.createElement(N,{onLoggedIn:this.handleLoggedIn}),"search"===this.state.showScreen&&r.a.createElement(T,{authToken:this.state.authToken}),"help"===this.state.showScreen&&r.a.createElement(h,null)),r.a.createElement(j,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(24);o.a.render(r.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[10,1,2]]]);
//# sourceMappingURL=main.a0c410d6.chunk.js.map